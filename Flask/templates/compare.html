<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Compare | Euphonic</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/css/bootstrap.min.css"
        integrity="sha512-SbiR/eusphKoMVVXysTKG/7VseWii+Y3FdHrt0EpKgpToZeemhqHeZeLWLhJutz/2ut2Vw1uQEj2MbRF+TVBUA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v2.1.9/css/unicons.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/js/bootstrap.min.js"
        integrity="sha512-1/RvZTcCDEUjY/CypiMz+iqqtaoQfAITmNSJY17Myp4Ms5mdxPS5UV7iOfdZoxcGhzFbOm6sntTKJppjvuhg4g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.4/font/bootstrap-icons.min.css"
        integrity="sha512-yU7+yXTc4VUanLSjkZq+buQN3afNA4j2ap/mxvdr440P5aW9np9vIr2JMZ2E5DuYeC9bAoH9CuCR7SJlXAa4pg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <!-- Top menu -->
    <nav class="navbar navbar-dark fixed-top navbar-expand-md navbar-no-bg">
        <div class="container">
            <a href="{{ url_for('home') }}" style="text-decoration:none;">
                <button class="bttn btn-secondary navbar-bttn">Dashboard</button>
            </a>
            <a class="navbar-brand euphonic-custom-font" href="{{ url_for('home') }}">Euphonic</a>
            <form action="{{ url_for('logout') }}" method="POST">
                <button class="bttn btn-secondary navbar-bttn">Logout</button>
            </form>
        </div>
    </nav>

    <!-- Body -->
    <div class="section mt-3">
        <div class="container">
            <div class="row justify-content-around">
                <div class="user">
                    <h3>{{ user1 }}</h3>
                    <h4>Vibe: {{ user1_vibe }}</h4>
                </div>
                <div class="comparison-score">
                    <h3>{{ score }}%</h3>
                    <h6>Similarity</h6>
                </div>
                <div class="user">
                    <h3>{{ user2 }}</h3>
                    <h4>Vibe: {{ user2_vibe }}</h4>
                </div>
            </div>
            <div class="row">
                <div class="user">
                    <div class="col-md-12">
                        <h3 class="text-center mb-4">Top 5 Artists in Common</h3>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Artist</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for artist in shared_artists %}
                                <tr>
                                    <td>{{ loop.index }}</td>
                                    <td><a href="{{ artist['href'] }}">{{ artist['name'] }}</a></td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="user">
                    <div class="col-md-12">
                        <h3 class="text-center mb-4">Music Similarity</h3>
                        <h4>Danceability: {{ music_similarity['danceability'] }}</h4>
                        <h5> {{ music_similarity['danceability_percent'] }}</h5>
                        <h4>Energy: {{ music_similarity['energy'] }}</h4>
                        <h5> {{ music_similarity['energy_percent'] }}</h5>
                        <h4>Mood: {{ music_similarity['valence'] }}</h4>
                        <h5> {{ music_similarity['valence_percent'] }}</h5>
                        <br>
                        <h4>Vibe: {{ music_similarity['vibe'] }}</h4>
                    </div>
                </div>
                <div class="user">
                    <div class="col-md-12">
                        <h3 class="text-center mb-4">Top 5 Genres in Common</h3>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Genre</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for genre in shared_genres %}
                                <tr>
                                    <td>{{ loop.index }}</td>
                                    <td>{{ genre }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="errorModal" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header d-flex justify-content-center">
                    <h5 class="modal-title error-modal-title text-center" id="errorModalLabel">Error Message
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body error-modal-body text-center">
                    {{ msg }}
                </div>
            </div>
        </div>
    </div>

    {% if msg %}
    <script>
        document.addEventListener("DOMContentLoaded", function (event) {
            var myModal = document.getElementById("errorModal");
            var myModalInstance = new bootstrap.Modal(myModal);
            myModalInstance.show();
        });
    </script>
    {% endif %}
</body>

</html>